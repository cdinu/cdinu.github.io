<!DOCTYPE html>
<html lang="en"><head>
<link href="../../images/favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-c8ad9e5dbd60b7b70b38521ab19b7da4.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.34">

  <title>Cristian Dinu – The End of Front-End</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-f563837468303362081e247dddd440d0.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<meta property="og:title" content="Cristian Dinu, Building Research Software for a Decarbonised Future">
<meta property="og:description" content="Research Software Engineer at UCL working at the intersection of energy, data, and climate. Leading development of SERL and EDOL platforms.">
<meta property="og:image" content="https://cdi.nu/talks/2025-09-RSECon/images/favicon.jpg">
<meta property="og:site_name" content="Cristian Dinu">
<meta name="twitter:title" content="Cristian Dinu, Research Software Engineer">
<meta name="twitter:description" content="I build data platforms for energy and climate research. Currently working on SERL and EDOL at UCL.">
<meta name="twitter:image" content="https://cdi.nu/talks/2025-09-RSECon/images/favicon.jpg">
<meta name="twitter:card" content="summary_large_image">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section class="slide level2 center">

<div class="columns">
<div class="column" style="width:70%;">
<div>
<h1>
<p>The End of Front-End</p>
</h1>
<h3>
Delivering Software via LLMs and the Model Context Protocol
</h3>
</div>
</div><div class="column" style="width:30%;">
<p><img data-src="https://api.qrserver.com/v1/create-qr-code/?data=https%3A%2F%2Fcdi.nu%2Ftalks%2F2025-09-RSECon"></p>
</div></div>
</section>
<section id="pip-install-rse-vibe-coding" class="slide level2 center">
<h2><code>pip install rse-vibe-coding</code></h2>
<aside class="notes">
<p>Just to check… you’re all here for the ‘Advanced Vibe Coding’ session, right?</p>
<p>Ah, sorry, that was cancelled. Apparently, <code>pip install vibes</code> kept failing with a <code>ResolutionImpossible</code> error. Couldn’t find a version of ‘good-vibes’ that was compatible with ‘reality&gt;=20.2.5’.</p>
<p>But we <em>are</em> here to talk about the future of interfaces. A future that feels like magic but is built on solid, <strong>almost</strong> reliable engineering.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="cristian-dinu-ucl" class="slide level2 center">
<h2>👋 Cristian Dinu, UCL</h2>
<p><br></p>
<h3 id="the-rse-friction">The RSE Friction</h3>
<div class="columns">
<div class="column" style="width:50%;">
<h4 id="rse-as-tool-builders">RSE as Tool Builders…</h4>
<ul>
<li class="fragment">Endless UIs</li>
<li class="fragment">Endless docs</li>
<li class="fragment">Endless support</li>
</ul>
</div><div class="column" style="width:50%;">
<h4 id="rse-as-tool-users">RSE as Tool Users…</h4>
<ul>
<li class="fragment">Endless wrappers</li>
<li class="fragment">Endless glue code</li>
<li class="fragment">Endless boilerplate</li>
</ul>
</div></div>
<aside class="notes">
<p>My name is Cristian Dinu, and I’m a Senior Research Software Engineer at UCL. My job is to bridge the gap between complex energy data and the researchers who need it. Essentially, I spend my days trying to eliminate friction.</p>
<p>And as RSEs, we live in a world of friction, don’t we? We build these powerful tools and APIs…</p>
<p>…When we’re building for others, we then spend months building bespoke GUIs, writing documentation, and answering the same support questions over and over.</p>
<p>…And when we’re building for ourselves, we spend hours writing boilerplate code and wrapper scripts just to glue our own tools together.</p>
<p>This isn’t just theory for me; we’re actively exploring these concepts with a heat pump manufacturer to help make their complex products genuinely accessible to everyday users.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="what-if-your-software-just-understood-you" class="slide level2 center">
<h2>What if your software just… understood you?</h2>
<aside class="notes">
<p>So, this brings us to the central question for this talk. What if we could eliminate some of that friction? What if, instead of clicking buttons or learning command-line flags, your users—or you—could just <em>write</em> / <em>say</em> what you want?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-chasm" class="slide level2 center">
<h2>The Chasm</h2>

<img data-src="images/the-chasm.jpeg" alt="An illustration of a cracked chasm running vertically through the middle. On the left side, a blue electric car icon with the text 'What is the cleanest time to charge my car?' On the right side, a code window icon with the text '/api/v1/forecast?region=04'. The chasm visually separates the plain-language question from the technical API call." class="r-stretch"><aside class="notes">
<p>Right now, there’s a chasm between a user’s <em>intent</em> and our software’s <em>action</em>.</p>
<p>Our users think in terms of goals, like ‘find the greenest time’. But our software speaks in rigid API calls and endpoints.</p>
<p>We spend most of our front-end effort building bridges over this chasm by hand—with GUIs, CLIs, and documentation.</p>
<p>Image source: Nano-Banana, prompt</p>
<blockquote>
<p>A simple diagram, white background, showing a process with a chasm in the middle Left side: An EV icon with a question mark and text “What is the cleanest time to charge my car?”. Right side: A code icon with text /api/v1/forecast?region=04 A big, messy, chasm is in between.</p>
</blockquote>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2 center">

<p><strong>There is something that can:</strong></p>
<ul>
<li>understand natural language</li>
<li>understand intent</li>
<li>could generate a list of commands… if it only had the tools</li>
</ul>
</section>
<section class="slide level2 center">


<img data-src="images/brain-in-jar.png" class="quarto-figure quarto-figure-center r-stretch" alt="A cartoon-style drawing of a glass jar with a smiling brain inside. The jar is labeled 'LLM' in block letters."><aside class="notes">
<p>We all now it, we all already use it. The Large Language Model.</p>
<p>This is how I imagine a model. It is like a brain in a jar. It has knowledge, it has reasoning, it has memory. But it has no body. It has no tools. It cannot find new things, it cannot act in the world.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2 center">


<img data-src="images/llm-chat.png" alt="A block diagram showing a chat application containing an LLM (GPT-4o, DeepSearch, Ollama)." class="r-stretch"><aside class="notes">
<p>This is how we all met the LLM. In a chat interface. You type something, it responds. It is a great interface for exploration, for brainstorming, for learning. It relies on its static training data, and onn you, the user, to provide context, and do the actions.</p>
<p>It is not a great interface for action. It cannot do anything in the world. It cannot access new information. It cannot run code. It cannot control devices.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2 center">


<img data-src="images/llm-tools.png" alt="A block diagram of a chat application with an LLM using custom tools for web search and code sandbox, connected to a cloud." class="r-stretch"><aside class="notes">
<p>So the next step was to give the LLM some tools. We saw this with web search in Perplexity, plugins in ChatGPT.</p>
<p>But this approach has limitations. Each integration is bespoke, requiring custom engineering for each tool and each LLM. It’s not scalable. It’s not reliable. And it’s not interoperable.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2 center">


<img data-src="images/llm-mcp.png" alt="A block diagram showing an MCP host with an LLM and MCP client connected to multiple MCP servers for carbon intensity, Vaillant Cloud, and a local smart home." class="r-stretch"><aside class="notes">
<p>So what if we had a standard way for LLMs to discover and use tools? A universal contract that any LLM could understand, and any tool could implement.</p>
<p>This is where the Model Context Protocol, or MCP, comes in. MCP is an open standard that defines how LLMs can discover and use tools in a consistent way.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2 center">


<img data-src="images/leonis-capital-mcp.png" class="quarto-figure quarto-figure-center r-stretch" alt="A clean diagram showing an LLM icon on the left, connected via MCP (Model Context Protocol) in the center, to multiple services on the right (Slack, Google Drive, GitHub). Each service has the same flow: Discover, Parse, Respond. Leonis Capital logo is in the corner."><aside class="notes">
<p>When the MCP client starts, it discovers all available MCP servers. It fetches their tool definitions, which are written in a standard schema.</p>
<p>Then, when the user makes a request, the LLM parses it, decides which tools to use, and calls them via MCP.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="mcp-is-a-contract" class="slide level2 center">
<h2>MCP is a Contract</h2>
<p>A simple schema defines your tool’s capabilities.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb1-1"><a></a>{</span>
<span id="cb1-2"><a></a>  <span class="dt">name</span><span class="op">:</span> fetch<span class="op">,</span></span>
<span id="cb1-3"><a></a>  <span class="dt">description</span><span class="op">:</span> <span class="vs">`Fetches a URL from the internet...`</span></span>
<span id="cb1-4"><a></a>  <span class="dt">inputSchema</span><span class="op">:</span>{</span>
<span id="cb1-5"><a></a>      <span class="dt">url</span><span class="op">:</span> {</span>
<span id="cb1-6"><a></a>        <span class="dt">description</span><span class="op">:</span> URL to fetch<span class="op">,</span></span>
<span id="cb1-7"><a></a>        <span class="dt">format</span><span class="op">:</span> uri<span class="op">,</span></span>
<span id="cb1-8"><a></a>        <span class="dt">type</span><span class="op">:</span> string</span>
<span id="cb1-9"><a></a>      }<span class="op">,</span></span>
<span id="cb1-10"><a></a>      <span class="dt">max_length</span><span class="op">:</span> {</span>
<span id="cb1-11"><a></a>        <span class="cf">default</span><span class="op">:</span> <span class="dv">5000</span><span class="op">,</span></span>
<span id="cb1-12"><a></a>        <span class="dt">description</span><span class="op">:</span> Maximum number <span class="kw">of</span> characters to <span class="cf">return</span><span class="op">.,</span></span>
<span id="cb1-13"><a></a>        <span class="dt">type</span><span class="op">:</span> integer</span>
<span id="cb1-14"><a></a>      }<span class="op">,</span></span>
<span id="cb1-15"><a></a>      <span class="op">...</span></span>
<span id="cb1-16"><a></a>  }</span>
<span id="cb1-17"><a></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>So how does it work? It’s surprisingly simple. As the developer, you define your tool’s capabilities in a standard schema.</p>
<p>You give it a <code>name</code> the LLM can call.</p>
<p>You write a clear <code>description</code> in plain English, which is crucial for the LLM to understand <em>when</em> to use your tool.</p>
<p>And you define the <code>parameters</code> it accepts.</p>
<p>That’s it. This simple, machine-readable contract is all the LLM needs to start using your tool intelligently.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="live-demo-the-setup" class="slide level2 center">
<h2>Live Demo: The Setup</h2>
<ul>
<li><strong>Client:</strong> Any LLM chat interface (VSCode, Claude, Cursor, etc.)</li>
<li><strong>Server:</strong> A Python app exposing our tools via MCP.</li>
</ul>

<img data-src="images/mcp-bridge.png" class="quarto-figure quarto-figure-center r-stretch" alt="An infographic showing a cracked chasm between a car charging question on the left and an API code icon on the right, bridged by a curved arch labeled “MCP.”"><aside class="notes">
<p>Okay, enough talk. Let’s build one.</p>
<p>First, the setup. We have a client, which is just a standard LLM chat interface. The user just talks to it.</p>
<p>And we have the server. This is what we’re about to build in Python. It’s a simple web server that exposes our tools via MCP.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2 center">

<h3 id="creating-our-own-mcp-server">Creating our own MCP Server</h3>
<ul>
<li>Carbon Intensity API – <a href="https://api.carbonintensity.org.uk/">api.carbonintensity.org.uk</a></li>
<li>Prerequisites:
<ul>
<li><code>uv</code> - python project manager</li>
<li><code>nodejs</code> - JavaScript interpreter (optional, for <code>inspector</code> tool)</li>
</ul></li>
<li>We need to think about <strong>semantic intent</strong></li>
</ul>
</section>
<section class="slide level2 center">

<h3 id="initialize-the-project">Initialize the project</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource shell number-lines code-with-copy"><code class="sourceCode"><span id="cb2-1"><a></a>uv init intensity_mcp</span>
<span id="cb2-2"><a></a>cd intensity_mcp</span>
<span id="cb2-3"><a></a></span>
<span id="cb2-4"><a></a>uv add fastmcp requests</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>(code available at: <a href="https://github.com/cdinu/uk-carbon-intensity-mcp-py">github.com/cdinu/uk-carbon-intensity-mcp-py</a>)</p>
</section>
<section class="slide level2 center">

<h3 id="write-the-code-main.py">Write the code – <code>main.py</code></h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a></a><span class="im">import</span> requests</span>
<span id="cb3-2"><a></a><span class="im">from</span> fastmcp <span class="im">import</span> FastMCP</span>
<span id="cb3-3"><a></a></span>
<span id="cb3-4"><a></a>mcp <span class="op">=</span> FastMCP(<span class="st">"CarbonIntensityMCP"</span>)</span>
<span id="cb3-5"><a></a></span>
<span id="cb3-6"><a></a><span class="at">@mcp.tool</span>(name<span class="op">=</span><span class="st">"Get Current Intensity"</span>)</span>
<span id="cb3-7"><a></a><span class="kw">def</span> intensity_current():</span>
<span id="cb3-8"><a></a>    <span class="co">"""Fetches the current carbon intensity of the UK electricity grid.</span></span>
<span id="cb3-9"><a></a><span class="co">    Returns a JSON with the current carbon intensity in gCO2eq/kWh."""</span></span>
<span id="cb3-10"><a></a>    url <span class="op">=</span> <span class="st">"https://api.carbonintensity.org.uk/intensity"</span></span>
<span id="cb3-11"><a></a>    <span class="cf">try</span>:</span>
<span id="cb3-12"><a></a>        response <span class="op">=</span> requests.get(url)</span>
<span id="cb3-13"><a></a>        response.raise_for_status()</span>
<span id="cb3-14"><a></a>        data <span class="op">=</span> response.json()</span>
<span id="cb3-15"><a></a>        <span class="cf">return</span> data[<span class="st">"data"</span>]</span>
<span id="cb3-16"><a></a></span>
<span id="cb3-17"><a></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb3-18"><a></a>        <span class="cf">return</span> <span class="ss">f"Failed to retrieve current carbon intensity: </span><span class="sc">{</span><span class="bu">str</span>(e)<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb3-19"><a></a></span>
<span id="cb3-20"><a></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb3-21"><a></a>    mcp.run()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2 center">

<h3 id="add-parameters-too">Add parameters, too:</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a></a><span class="at">@mcp.tool</span>(name<span class="op">=</span><span class="st">"Read Carbon Intensity for Dates and Postcode"</span>)</span>
<span id="cb4-2"><a></a><span class="kw">def</span> intensity_for_dates_and_postcode(from_datetime: <span class="bu">str</span>, to_datetime: <span class="bu">str</span>,</span>
<span id="cb4-3"><a></a>    postcode: <span class="bu">str</span>,</span>
<span id="cb4-4"><a></a>):</span>
<span id="cb4-5"><a></a>    <span class="co">"""Fetches electricity grid carbon intensity data for a specific UK postcode and time range.</span></span>
<span id="cb4-6"><a></a><span class="co">    The `from_datetime` and `to_datetime` should be in ISO 8601 format (e.g. 2018-05-15T12:00Z).</span></span>
<span id="cb4-7"><a></a><span class="co">    The `postcode` needs only the first part e.g. RG10 (without the last three characters or space)</span></span>
<span id="cb4-8"><a></a><span class="co">    Returns a summary including average forecast and generation mix. Dates returned are UTC. Units are gCO2eq/kWh.</span></span>
<span id="cb4-9"><a></a><span class="co">    """</span></span>
<span id="cb4-10"><a></a>    url <span class="op">=</span> <span class="ss">f"https://api.carbonintensity.org.uk/regional/intensity/</span><span class="sc">{</span>from_datetime<span class="sc">}</span><span class="ss">/</span><span class="sc">{</span>to_datetime<span class="sc">}</span><span class="ss">/postcode/</span><span class="sc">{</span>postcode<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb4-11"><a></a>    <span class="cf">try</span>:</span>
<span id="cb4-12"><a></a>        response <span class="op">=</span> requests.get(url)</span>
<span id="cb4-13"><a></a>        response.raise_for_status()</span>
<span id="cb4-14"><a></a>        <span class="cf">return</span> response.json()[<span class="st">"data"</span>]</span>
<span id="cb4-15"><a></a></span>
<span id="cb4-16"><a></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb4-17"><a></a>        <span class="cf">return</span> <span class="ss">f"Failed to retrieve carbon intensity data: </span><span class="sc">{</span><span class="bu">str</span>(e)<span class="sc">}</span><span class="ss">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2 center">

<h3 id="configure-your-mcp-client">Configure your MCP client</h3>

<img data-src="images/01-add-mcp-server-in-vscode.gif" class="quarto-figure quarto-figure-center r-stretch" alt="A screen recording showing how to add a custom MCP server in the VSCode LLM chat interface."></section>
<section class="slide level2 center">

<h3 id="view-available-tools">View available tools</h3>

<img data-src="images/02-view-available-tools.gif" class="quarto-figure quarto-figure-center r-stretch" alt="A screen recording showing how to view available tools in the VSCode LLM chat interface."></section>
<section class="slide level2 center">

<h3 id="call-a-tool">Call a tool</h3>

<img data-src="images/03-what-is-my-electricity-fuel-mix.gif" class="quarto-figure quarto-figure-center r-stretch" alt="A screen recording showing how to call the 'Get Current Intensity' tool in the VSCode LLM chat interface."></section>
<section class="slide level2 center">

<h3 id="call-another-tool">Call another tool</h3>

<img data-src="images/04-put-it-in-a-csv-file.gif" class="quarto-figure quarto-figure-center r-stretch" alt="A screen recording showing how LLM creates a CSV"></section>
<section class="slide level2 center">

<h3 id="the-real-magic-orchestration">The Real Magic: Orchestration</h3>

<img data-src="images/05-find-3hours-and-book-calendar.gif" class="quarto-figure quarto-figure-center r-stretch" alt="A screen recording showing how LLM finds a 3-hour window to charge an EV and books it in the calendar."><aside class="notes">
<p>prompt:</p>
<p>I am currently near Coventry. I want to charge my EV tomorrow or on Friday when the electricity grid is the cleanest. Find a good 3 hr spot, add it to my iCloud Calendar and send an e-mail to myself@cdi.nu with the information.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="what-just-happened" class="slide level2 center">
<h2>What Just Happened?</h2>
<ol type="1">
<li>We provided capabilities</li>
<li>User stated intent</li>
<li>The LLM built the workflow on the fly</li>
</ol>
<aside class="notes">
<p>So what just happened? The LLM performed three key actions: Decomposition, Tool Chaining, and Synthesis.</p>
<p>We didn’t build a ‘carbon-to-calendar’ app. We provided two separate <strong>capabilities</strong>, and the LLM built the workflow on the fly.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="rse-superpowers-unlocked" class="slide level2 center">
<h2>RSE Superpowers Unlocked 🚀</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">For Tool Builders…</th>
<th style="text-align: left;">For Tool Users…</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">✅ Escape the UI Treadmill</td>
<td style="text-align: left;">✅ Query by Intent</td>
</tr>
<tr class="even">
<td style="text-align: left;">✅ Slash Support Load</td>
<td style="text-align: left;">✅ Zero Boilerplate</td>
</tr>
<tr class="odd">
<td style="text-align: left;">✅ Instant “Feature” Rollout</td>
<td style="text-align: left;">✅ Your Personal Orchestrator</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>So what does this mean for us as RSEs? It unlocks superpowers.</p>
<p><strong>For tool builders:</strong> We can escape the UI treadmill. Your schema <em>is</em> the interface. You can slash your support load because the system is self-documenting. And feature rollout is instant.</p>
<p><strong>And for tool users:</strong> We can query by intent. We can skip the boilerplate. And the LLM becomes your personal orchestrator, chaining tools together.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-future-is-a-conversation" class="slide level2 center">
<h2>The Future is a Conversation</h2>
<ul>
<li>Natural Language is the universal flexible front-end “programming language”.</li>
<li>APIs are the stable, reliable backend.</li>
<li>MCP is the contract that connects them.</li>
</ul>
<aside class="notes">
<p>We are moving from a world where we adapt to computers to a world where computers adapt to us.</p>
<p>In this new paradigm, APIs remain the stable, reliable backend. Natural Language becomes the universal, flexible front-end.</p>
<p>And MCP is the crucial contract that connects them reliably.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="what-will-you-build" class="slide level2 center">
<h2>What will you build?</h2>
<ul>
<li>The front-end isn’t disappearing.</li>
<li>It’s becoming <strong>invisible, adaptive, and conversational.</strong></li>
</ul>
<aside class="notes">
<p>The front-end isn’t going away. It’s becoming invisible, adaptive, and conversational. It’s becoming intelligent.</p>
<p>The opportunity for us as RSEs is immense. We can deliver more value, faster, by focusing on what we do best—building powerful tools—and letting the conversation handle the rest.</p>
<p>So I’ll leave you with this question: What will you build when the UI is no longer a barrier?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="thank-you" class="slide level2 center">
<h2>Thank You!</h2>
<p>Cristian Dinu</p>
<p><a href="https://cdi.nu">https://cdi.nu</a></p>
<aside class="notes">
<p>Thank you very much. I’m happy to take any questions.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="columns">
<div class="column" style="width:70%;">
<div>
<h2>
Thank you!
</h2>
<h3>
https://cdi.nu/talks/2025-09-RSECon
</h3>
</div>
</div><div class="column" style="width:30%;">
<p><img data-src="https://api.qrserver.com/v1/create-qr-code/?data=https%3A%2F%2Fcdi.nu%2Ftalks%2F2025-09-RSECon"></p>
</div></div>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p><a href="https://github.com/cdinu/cdinu.github.io/tree/master/talks/2025-09-RSECon" target="_blank">The End of Front-End</a> | <a href="https://cdi.nu" target="_blank">Cristian Dinu, UCL</a> | Linkedin: <a href="https://linkedin.com/in/cdinu" target="_blank">/in/cdinu</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease-in-out",
'autoAnimateDuration': 0.2,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/cdi\.nu");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>